<!-- Create/Edit Booking Page -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        {% if form.instance.pk %} Edit {% else %} Create {% endif %} Booking
    </title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
</head>

<body class="container mt-5">
    <div class="card shadow-lg p-4 mx-auto" style="max-width: 500px">
        <h2 class="text-center">
            {% if form.instance.pk %} Edit Booking {% else %} Create Booking {% endif %}
        </h2>
        <!-- Dynamically set the action URL based on whether it's create or update -->
        <form method="post" action="">
            {% csrf_token %}

            <!-- User Selection (Dropdown) -->
            <div class="mb-3">
                <label for="id_user" class="form-label">Customer</label> {{ form.user }}
            </div>

            <!-- Activity Selection (Dropdown) -->
            <div class="mb-3">
                <label for="id_activity" class="form-label">Activity</label> {{ form.activity }}
            </div>

            <!-- Date Picker -->
            <div class="mb-3">
                <label for="id_date" class="form-label">Date</label> {{ form.date }}
            </div>

            <!-- Time Slot Dropdown -->
            <div class="mb-3">
                <label for="id_time" class="form-label">Time</label> {{ form.time }}
            </div>

            <!-- Duration Field -->
            <div class="mb-3">
                <label for="id_duration" class="form-label">Duration (minutes)</label> {{ form.duration }}
            </div>

            <!-- Status Field -->
            <div class="mb-3">
                <label for="id_status" class="form-label">Status</label> {{ form.status }}
            </div>

            <!-- Submit and Cancel Buttons -->
            <div class="text-center">
                <button type="submit" class="btn btn-primary">
                    {% if form.instance.pk %} Update {% else %} Save {% endif %}
                </button>
                <a href="{% url 'booking_list' %}" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
    </div>

    <!-- Flatpickr for Date Selection -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script>
        flatpickr("#id_date", {
            dateFormat: "Y-m-d",
            minDate: "today",
            disableMobile: true
        });
    </script>
</body>

</html>